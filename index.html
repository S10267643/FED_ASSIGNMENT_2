<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>MokeSell</title>
    <link href="style_index.css" rel="stylesheet" type="text/css" />
    <script src="script.js" defer></script> <!-- External JS for handling logic -->
  </head>

  <body>
    <header>
      <div class="top-bar">
        <section class="img-container">
          <img class="logo" src="imgs/ms_logo.jpg" />
        </section>

        <section class="account-access">
          <p id="accountLink" onclick="toggleModal()">Account</p>
          <div class="modal" id="authModal">
            <div class="modal-content">
              <button class="close-btn" onclick="toggleModal()">&times;</button>
              <h2>Sign Up</h2>
              <form id="signUpForm">
                <input type="text" placeholder="Full Name" required id="fullName" />
                <input type="email" placeholder="Email" required id="email" />
                <input type="password" placeholder="Password" required id="password" />
                <button type="submit">Sign Up</button>
              </form>
              <h2 style="margin-top: 2rem;">Login</h2>
              <form id="loginForm">
                <input type="email" placeholder="Email" required />
                <input type="password" placeholder="Password" required />
                <button type="submit">Login</button>
              </form>
            </div>
          </div>
        </section>
      </div>

      <div class="search-bar-container">
        <input type="text" class="search-bar" placeholder="Search..." />
        <select class="language-select">
          <option>English</option>
          <option>Chinese</option>
          <option>Malay</option>
          <option>Tamil</option>
        </select>
      </div>
    </header>

    <footer class="footer">
      <div class="footer-container">
        <!-- About Us Section -->
        <div class="footer-about">
          <h3>About MokeSell</h3>
          <p>MokeSell is your one-stop solution for quality products at unbeatable prices. Shop with us and experience convenience and trust.</p>
        </div>

        <!-- Social Media Links -->
        <div class="footer-social">
          <h3>Follow Us</h3>
          <div class="social-links">
            <a href="#" target="_blank" class="social-icon">Facebook</a>
            <a href="#" target="_blank" class="social-icon">Instagram</a>
            <a href="#" target="_blank" class="social-icon">Twitter</a>
          </div>
        </div>

        <!-- App Download Section -->
        <div class="footer-app">
          <h3>Download Our App</h3>
          <p>Get the best shopping experience on your mobile.</p>
          <div class="app-buttons">
            <a href="#" class="app-link">Download for iOS</a>
            <a href="#" class="app-link">Download for Android</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 MokeSell. All Rights Reserved.</p>
      </div>
    </footer>
  </body>

  <script>
    // Function to toggle modal visibility
    function toggleModal() {
      const modal = document.getElementById("authModal");
      modal.style.display = modal.style.display === "flex" ? "none" : "flex";
    }

    // Handle form submission for signing up
    document.getElementById("signUpForm").addEventListener("submit", async function(event) {
      event.preventDefault(); // Prevent form from submitting the default way

      const fullName = document.getElementById("fullName").value;
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      const newUser = {
        fullName,
        email,
        password
      };

      try {
        // API URL for your RestDB database collection (replace 'your_database_name' with actual name)
        const apiUrl = "https://your_database_name.restdb.io/rest/users";

        const response = await fetch(apiUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "x-apikey": "your_restdb_api_key",  // Replace with your RestDB API key
            "cache-control": "no-cache"
          },
          body: JSON.stringify(newUser)
        });

        if (response.ok) {
          alert("Account created successfully!");
          toggleModal(); // Close modal after submission
        } else {
          alert("Failed to create account. Please try again.");
        }
      } catch (error) {
        console.error("Error:", error);
        alert("There was an error creating your account. Please try again.");
      }
    });
  </script>
</html>
